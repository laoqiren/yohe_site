<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/yohe_site/assets/css/layout.css">
    <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
    <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
    
  <link rel="stylesheet"
  href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/railscasts.min.css">
  <link rel="stylesheet" href="/yohe_site/assets/css/post.css"/>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

    <title>
    罗峡的博客
</title>
</head>
<body>

    <div id="page" class="hfeed site">
        <header id="masthead" class="site-header">
            <div class="site-header-info">
                <a href="/yohe_site/" class="site-logo" title="laoqiren">
                    <img src="https://avatars2.githubusercontent.com/u/16136702?v=4&s=120" width="100" height="100"/>
                </a>
                <h1 class="site-title">罗峡的博客</h1>
                <h2 class="site-description">爱技术，爱生活</h2>
            </div>
            
  <div class="post-info">
    <div class="site-published-separator"></div>
    <h2 class="site-published">Published</h2>
    <h2 class="site-publish-date">2016-04-21</h2>
  </div>
 
        </header>

        <div id="main" class="site-main">
            <div id="primary">
                <main id="content" class="site-content">
                    
  <div class="post">
    <div class="post-header">
      <h2 class="post-cate">in Nodejs</h2>
      <h1>nodejs刷百度贴吧回复</h1>
    </div>
    <div class="post-content">
        <p>nodeJS提供的网络API，使得nodeJS既能作为服务端接受请求，又能作为客户端像其他服务器发起请求，对于一些论坛诸如贴吧之类的，可以通过请求信息（cookie信息)就能够实现脚本自动发帖，这是初次接触nodeJS的尝试，虽然用到的技术较简单，但是还是挺有趣的，比如你想给自己顶贴之类的小需求，可以自己写一个刷回复的脚步来实现哦！ <!--more--></p>
<h3>作为前端必备技能的nodejs,非常有趣</h3>
<h4>利用NodeJs的http模块，很简单地就能做一个刷回复的脚本</h4>
<p>这次借用高考吧一学妹的帖子来刷一刷，哈哈，邪恶邪恶
<img src="http://7xsi10.com2.z0.glb.clouddn.com/shua1.png" alt="tie">
nodejs提供的http模块，我们需要用http模块的request方法想服务端发送请求来发送/接收信息</p>
<ol>
<li>require进两个模块</li>
</ol>
<pre class=js><code><span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">var</span> querystring = <span class="hljs-built_in">require</span>(<span class="hljs-string">'querystring'</span>);
</code></pre>
<ol start="2">
<li>request方法返回一个http.ClientRequest的实例，如果用POST方法向服务端发送数据，数据对象会被写入该对象，request方法接受两个参数，一个必须的options参数，一个可选的callback函数，callback函数可以接受到来自服务端的响应作为参数，options参数可以为字符串或者对象，字符串会被url模块的parse方法序列化为对象</li>
<li>打开学妹的帖子，我们编辑一条回复信息，然后查看网络面板，查看add的ajax请求信息
<img src="http://7xsi10.com2.z0.glb.clouddn.com/shua2.png" alt="add"></li>
<li>options参数的header属性值为请求头信息，当然得是Json对象</li>
<li>注意Content-Length要设置为postData.length，不然可能请求失败</li>
<li>在最开始的时候，老是出现如下错误:
<img src="http://7xsi10.com2.z0.glb.clouddn.com/shua3.png" alt="error">
最后查阅错误代码，stackoverflow上的解决办法是不加http/https协议，果然，成功
<img src="http://7xsi10.com2.z0.glb.clouddn.com/shua4.png" alt="success"></li>
<li>然后，邪恶的加个定时器，一直刷，看结果
<img src="http://7xsi10.com2.z0.glb.clouddn.com/many.png" alt="many">
<img src="http://7xsi10.com2.z0.glb.clouddn.com/shua6.png" alt="many"></li>
<li>很好玩吧，不过多次刷会出现验证码的，哎，刚学，知识技能不熟悉，只能写个简单的yy一下了，不过这测验也能看出百度的安全并不是那么好，哈哈</li>
</ol>

    </div>
    <div id="gitcomment"></div>
  </div>

                </main>
            </div>

            

            
        </div>

        <footer id="colophon" class="site-footer">
            © 2017 <a href="#">laoqiren</a>
            主题提供: <a href="https://github.com/laoqiren/yohe">Yohe</a>
            Powered By <a href="https://github.com/laoqiren/yohe">Yohe</a>
            图片存储: <a href="http://www.qiniu.com/">qiniu</a>
        </footer>
    </div>

    
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
        var gitment = new Gitment({
          owner: "laoqiren",
          repo: "yohe_site",
          oauth: {
            client_id: "73b3a1c0efb357bcbb91",
            client_secret: "71e4bb221d644944060025407944fe2f51126ee6"
          }
        })
        gitment.render('gitcomment')
    </script>

</body>
</html>